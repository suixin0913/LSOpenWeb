(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{130:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return _}));var a=t(3),i=t(8),r=(t(0),t(167)),l={id:"xr872_lisa",title:"\u4e0a\u4f4d\u673a\u63a5\u5165 LISA_API \u8bf4\u660e",slug:"/xr872_lisa"},s={unversionedId:"CSK_online_guides/xr872_lisa/xr872_lisa",id:"CSK_online_guides/xr872_lisa/xr872_lisa",isDocsHomePage:!1,title:"\u4e0a\u4f4d\u673a\u63a5\u5165 LISA_API \u8bf4\u660e",description:"1. \u6982\u8ff0",source:"@site/docs/CSK_online_guides/xr872_lisa/xr872_lisa.md",slug:"/xr872_lisa",permalink:"/xr872_lisa",version:"current"},c=[{value:"1. \u6982\u8ff0",id:"1-\u6982\u8ff0",children:[{value:"\u8f6f\u4ef6\u7cfb\u7edf\u67b6\u6784",id:"\u8f6f\u4ef6\u7cfb\u7edf\u67b6\u6784",children:[]},{value:"\u8bed\u97f3\u4e91\u5bf9\u63a5",id:"\u8bed\u97f3\u4e91\u5bf9\u63a5",children:[]}]},{value:"2. \u4e1a\u52a1\u4ee3\u7801\u8bf4\u660e",id:"2-\u4e1a\u52a1\u4ee3\u7801\u8bf4\u660e",children:[{value:"\u6e90\u7801\u8def\u5f84",id:"\u6e90\u7801\u8def\u5f84",children:[]},{value:"\u76ee\u5f55\u7ed3\u6784",id:"\u76ee\u5f55\u7ed3\u6784",children:[]}]},{value:"3. Lisa \u63a5\u53e3\u4f7f\u7528\u793a\u4f8b",id:"3-lisa-\u63a5\u53e3\u4f7f\u7528\u793a\u4f8b",children:[{value:"Drivers\uff08\u9a71\u52a8\uff09",id:"drivers\uff08\u9a71\u52a8\uff09",children:[]},{value:"OS\uff08\u7cfb\u7edf\uff09",id:"os\uff08\u7cfb\u7edf\uff09",children:[]},{value:"Component\uff08\u7ec4\u4ef6\uff09",id:"component\uff08\u7ec4\u4ef6\uff09",children:[]},{value:"Modules\uff08\u529f\u80fd\uff09",id:"modules\uff08\u529f\u80fd\uff09",children:[]},{value:"Component\uff08\u7ec4\u4ef6\uff09",id:"component\uff08\u7ec4\u4ef6\uff09-1",children:[]}]},{value:"LISA API\u63a5\u53e3\u53c2\u8003\u6587\u6863",id:"lisa-api\u63a5\u53e3\u53c2\u8003\u6587\u6863",children:[]}],p={toc:c};function _(e){var n=e.components,l=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},p,l,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"1-\u6982\u8ff0"},"1. \u6982\u8ff0"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"lisa_api")," \u662f\u8046\u601d\u57fa\u4e8e\u5e02\u573a\u4e3b\u6d41\u7684 RTOS \u548c\u82af\u7247\u5e73\u53f0\uff0c\u5b9a\u4e49\u7684\u4e00\u4e2a\u4ecb\u4e8e\u5e95\u5c42\u9a71\u52a8\u4e0e\u4e0a\u5c42\u5e94\u7528\u7684\u4e2d\u95f4\u5c42\u67b6\u6784\u3002\u5f00\u53d1\u8005\u9700\u8981\u57fa\u4e8e ",Object(r.b)("inlineCode",{parentName:"p"},"lisa_api")," ,\u5bf9\u9700\u8981\u8c03\u7528\u7684\u786c\u4ef6\u5e73\u53f0\u548c\u5b9e\u65f6\u64cd\u4f5c\u7cfb\u7edf\u63a5\u53e3\u62bd\u8c61\u5c01\u88c5\uff0c\u8fd9\u4e9b\u62bd\u8c61\u51fa\u7684\u63a5\u53e3\u5c06\u4e3a\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u80fd\u529b\u3002"),Object(r.b)("p",null,"\u6b64\u5916\uff0c\u5728\u63a5\u5165 ",Object(r.b)("inlineCode",{parentName:"p"},"lisa_api")," \u67b6\u6784\u540e\uff0c\u7531\u4e8e\u4e0a\u5c42\u8c03\u7528\u4e86 ",Object(r.b)("inlineCode",{parentName:"p"},"lisa_api")," \u5b9a\u4e49\u7684\u6807\u51c6\u63a5\u53e3\uff0c\u540e\u7eed\u66f4\u6362\u4e0d\u540c\u7684\u82af\u7247\u5e73\u53f0\u65f6\uff0c\u4e0a\u5c42\u5e94\u7528\u65e0\u9700\u4fee\u6539\uff0c\u53ea\u9700\u505a\u5e95\u5c42\u9a71\u52a8\u7684\u9002\u914d\u5de5\u4f5c\uff0c\u8fd9\u5c06\u51cf\u5c11\u5e73\u53f0\u8fc1\u79fb\u5de5\u4f5c\u91cf\uff0c\u907f\u514d\u91cd\u590d\u5de5\u4f5c\u3002"),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"\u4ee5\u4e0b\u63a5\u53e3\u4f7f\u7528\u7528\u4f8b\u57fa\u4e8e XR872 \u7684 RTOS \u5e73\u53f0\uff0c\u53ef\u79fb\u690d\u4e8e\u5176\u4ed6\u5e73\u53f0\u7684 RTOS \u6d4b\u8bd5\u3002"))),Object(r.b)("h3",{id:"\u8f6f\u4ef6\u7cfb\u7edf\u67b6\u6784"},"\u8f6f\u4ef6\u7cfb\u7edf\u67b6\u6784"),Object(r.b)("p",null,"\u9002\u914d872\u6216\u8005\u5176\u4ed6RTOS\u82af\u7247\u5e73\u53f0\uff0c\u7cfb\u7edf\u67b6\u6784\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{src:t(314).default})),Object(r.b)("p",null,"LISA API\u9002\u914d\u5c42\u5c01\u88c5\u63a5\u53e3\uff1a"),Object(r.b)("p",null,Object(r.b)("img",{src:t(315).default})),Object(r.b)("p",null,Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/lisa_api"}),"\u67e5\u770blisa api \u63a5\u53e3\u6587\u6863")),Object(r.b)("h3",{id:"\u8bed\u97f3\u4e91\u5bf9\u63a5"},"\u8bed\u97f3\u4e91\u5bf9\u63a5"),Object(r.b)("p",null,"\u6211\u4eec\u63a8\u8350\u4e91\u7aef\u5bf9\u63a5\u4e00\u7ad9\u5f0f\u8bed\u97f3\u4e91 iFLYOS\uff0c \u4f46 iFLYOS \u4e91\u7aef\u5bf9\u63a5\u76ee\u524d\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\uff0c\u4e91\u7aef\u4ea4\u4e92\u4f7f\u7528EVS\u534f\u8bae\uff0cEVS\u534f\u8bae\u8bf4\u660e\u53ca\u63a5\u5165\u65b9\u6cd5\u53c2\u8003",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://doc.iflyos.cn/device/"}),"\u8bbe\u5907\u63a5\u5165\u4ecb\u7ecd"),"\u3002"),Object(r.b)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u63a5\u5176\u4ed6\u8bed\u97f3\u4e91\u670d\u52a1\uff0c\u5982\uff1a",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://aiui.xfyun.cn/doc/aiui/sdk/more_doc/webapi/summary.html"}),"AIUI"),"\u7b49\u3002"),Object(r.b)("h2",{id:"2-\u4e1a\u52a1\u4ee3\u7801\u8bf4\u660e"},"2. \u4e1a\u52a1\u4ee3\u7801\u8bf4\u660e"),Object(r.b)("h3",{id:"\u6e90\u7801\u8def\u5f84"},"\u6e90\u7801\u8def\u5f84"),Object(r.b)("p",null,"XR872 \u9002\u914d lisa api\u4ee3\u7801\u8def\u5f84"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"https://cloud.listenai.com/private/xr872_lisa\n")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"\u82e5\u65e0\u6743\u9650\u8bbf\u95ee\uff0c\u8bf7\u8054\u7cfbFAE\u5f00\u901a\u6743\u9650\u3002"))),Object(r.b)("h3",{id:"\u76ee\u5f55\u7ed3\u6784"},"\u76ee\u5f55\u7ed3\u6784"),Object(r.b)("p",null,"\u4ee3\u7801\u76ee\u5f55\u7ed3\u6784\u53ca\u8bf4\u660e"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"|-- drivers                  // \u9a71\u52a8\u5c42\u63a5\u53e3\n|   |-- hal_flash.c          // flash \u8bfb\u5199\u63a5\u53e3\n|   |-- hal_flash.h\n|   |-- hal_rtc.c            // \u83b7\u53d6\u548c\u8bbe\u7f6e\u65f6\u949f\uff0c\u7528\u4e8e\u4e91\u7aef\u65f6\u949f\u540c\u6b65\n|   |-- hal_rtc.h  \n|   |-- hal_wifi.c           // wifi\u7ba1\u7406\u5de5\u5177\n|   `-- hal_wifi.h\n|-- lisa_common              // \u64cd\u4f5c\u7ed3\u679c\u8fd4\u56de\u503c\n|   |-- err.h                         \n|   `-- typedef.h\n|-- lisa_component           // \u97f3\u9891\u64ad\u653e\u7ba1\u7406\u5de5\u5177\n|   |-- lisa_player.c\n|   `-- lisa_player.h\n|-- lisa_log                 // \u65e5\u5fd7\u5de5\u5177\n|   `-- log.h\n|-- lisa_os                  // \u7cfb\u7edf\u6a21\u5757\n|   |-- mem.c                // \u7cfb\u7edf\u5185\u5b58\u7ba1\u7406\u5de5\u5177\n|   |-- mem.h\n|   |-- mutex.c              // \u4e92\u65a5\u91cf\u7ba1\u7406\u5de5\u5177\n|   |-- mutex.h \n|   |-- queue.c              // \u6d88\u606f\u961f\u5217\u5de5\u5177  \n|   |-- queue.h\n|   |-- semaphore.c          // \u4fe1\u53f7\u91cf\u7ba1\u7406\n|   |-- semaphore.h\n|   |-- thread.c             // \u7ebf\u7a0b\u7ba1\u7406\u5de5\u5177\n|   |-- thread.h  \n|   |-- time.c               // \u65f6\u95f4\u540c\u6b65\u5de5\u5177\n|   |-- time.h \n|   |-- timer.c              // \u8ba1\u65f6\u5668\u5de5\u5177\n|   `-- timer.h\n|-- lisa_test                // lisa api\u63a5\u53e3\u4f7f\u7528\u793a\u4f8b\n|   |-- hal_flash_demo.c     // flash\u8bfb\u5199\u793a\u4f8b\n|   |-- hal_rtc_demo.c       // \u65f6\u95f4\u540c\u6b65\u4f7f\u7528\u793a\u4f8b\n|   |-- hal_wifi_demo.c      // wifi\u7f51\u7edc\u914d\u7f6e\u7ba1\u7406\u793a\u4f8b\n|   |-- lisa_button_demo.c   // \u6309\u952e\u63a5\u53e3\u4f7f\u7528\u793a\u4f8b\n|   |-- lisa_demo.c          // lisa api\u63a5\u53e3\u4f7f\u7528\u4e3b\u7a0b\u5e8f\n|   |-- lisa_demo.h    \n|   |-- lisa_led_demo.c      // led\u706f\u63a7\u5236\u793a\u4f8b\n|   |-- lisa_perst_demo.c    // \u6301\u4e45\u5316\u5de5\u5177\u4f7f\u7528\u793a\u4f8b\n|   |-- lisa_player_demo.c   // \u97f3\u9891\u64ad\u653e\u5668\u4f7f\u7528\u793a\u4f8b\n|   |-- lisa_power_demo.c    // \u7535\u6e90\u7ba1\u7406\u6a21\u5757\u4f7f\u7528\u793a\u4f8b\n|   `-- lisa_queue_demo.c    // \u6d88\u606f\u961f\u5217\u4f7f\u7528\u793a\u4f8b\n`-- modules                  // lisa\u529f\u80fd\u6a21\u5757\n    |-- hal_http.c           // http \u901a\u4fe1\u529f\u80fd\u6a21\u5757\n    |-- hal_http.h\n    |-- hal_websocket.c      // websocket\u957f\u8fde\u63a5\u901a\u4fe1\u6a21\u5757\uff0c\u7528\u4e8e\u4e91\u7aef\u4ea4\u4e92\n    |-- hal_websocket.h\n    |-- lisa_button.c        // \u6309\u952e\u5b9e\u73b0\u6a21\u5757\uff0c\u4e3b\u8981\u662f\u957f\u6309\uff0c\u77ed\u6309\u6a21\u62df\u529f\u80fd\n    |-- lisa_button.h\n    |-- lisa_exception.c     // \u5f02\u5e38\u6355\u83b7\u529f\u80fd\u6a21\u5757\n    |-- lisa_exception.h\n    |-- lisa_led.c           // led\u706f\u529f\u80fd\u6a21\u5757\n    |-- lisa_led.h\n    |-- lisa_perst.c         // \u6301\u4e45\u5316\u5de5\u5177\u529f\u80fd\u6a21\u5757\n    |-- lisa_perst.h\n    |-- lisa_power.c         // \u7535\u6e90\u7ba1\u7406\u529f\u80fd\u6a21\u5757\n    `-- lisa_power.h\n")),Object(r.b)("h2",{id:"3-lisa-\u63a5\u53e3\u4f7f\u7528\u793a\u4f8b"},"3. Lisa \u63a5\u53e3\u4f7f\u7528\u793a\u4f8b"),Object(r.b)("p",null,"\u200b\t\u4e3a\u4e86\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u7684\u7406\u89e3",Object(r.b)("inlineCode",{parentName:"p"},"lisa_api"),"\uff0c\u672c\u6587\u6863\u5c06\u901a\u8fc7 Drivers\uff08\u9a71\u52a8\uff09\u3001Component\uff08\u7ec4\u4ef6\uff09\u3001Log\uff08\u65e5\u5fd7\uff09\u3001OS\uff08\u7cfb\u7edf\uff09\u3001Modules\uff08\u529f\u80fd\u6a21\u5757\uff09\u4e94\u65b9\u9762\u8be6\u7ec6\u4ecb\u7ecd lisa_api\u3002"),Object(r.b)("p",null,"\u4e3a\u4f7f\u5f00\u53d1\u8005\u6b63\u786e\u5feb\u901f\u4f7f\u7528lisa\u63a5\u53e3\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9blisa api\u4f7f\u7528demo\u793a\u4f8b\uff0cdemo\u76ee\u5f55\u662f\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"https://cloud.listenai.com/private/xr872_lisa/lisa_test\n")),Object(r.b)("p",null,"\u6d4b\u8bd5\u793a\u4f8b\u4f7f\u7528lisa_api\u4e32\u53e3\u547d\u4ee4\u7684\u65b9\u5f0f\u4f53\u9a8c\uff0c\u5177\u4f53\u547d\u4ee4\u5982\u4e0b\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"lisa_api rtc_test set\nlisa_api rtc_test get\nlisa_api button_test init\n\nlisa_api led_test breath 1\nlisa_api led_test breath 2\nlisa_api led_test breath 3\nlisa_api led_test off\nlisa_api led_test on 1\n\nlisa_api perst_test set string ftshen 123\nlisa_api perst_test get string ftshen\nlisa_api perst_test del string ftshen\nlisa_api perst_test info\n\nlisa_api queue_test init\n\nlisa_api power_test reboot\n\nlisa_api wifi_test init\nlisa_api wifi_test connect iflytek-yycs iflytekyuyin\nlisa_api wifi_test disconnect\nlisa_api wifi_test ap ftshen\nlisa_api wifi_test status\n\nlisa_api player_test 1 -s http://isure6.stream.qqmusic.qq.com/C200001GuWCx14Gng9.m4a?guid=2000001471&vkey=8B7F53001C83CF9EF18ED8399A77086BA2BD56991218507E1542FAA8F8026189503C6FB0BD1E9ED1FEB13AA5DE8B77EDE0B1792D661FD748&uin=&fromtag=204\nlisa_api player_test 1 -p\nlisa_api player_test 1 -r\nlisa_api player_test 1 -k 12000\n")),Object(r.b)("h3",{id:"drivers\uff08\u9a71\u52a8\uff09"},"Drivers\uff08\u9a71\u52a8\uff09"),Object(r.b)("h4",{id:"31-flash\u9a71\u52a8\u63a5\u53e3\u4f7f\u7528"},"3.1 Flash\u9a71\u52a8\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Flash\u6570\u636e\u5199\u5165",Object(r.b)("inlineCode",{parentName:"li"},"lisa_flash_write()")),Object(r.b)("li",{parentName:"ul"},"Flash\u6570\u636e\u8bfb\u53d6",Object(r.b)("inlineCode",{parentName:"li"},"lisa_flash_read()")),Object(r.b)("li",{parentName:"ul"},"Flash\u6570\u636e\u64e6\u9664",Object(r.b)("inlineCode",{parentName:"li"},"lisa_flash_erase()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528\uff1a"),"\u8bfb\u53d6flash\u4e2d\u5b58\u50a8\u7684\u63d0\u793a\u97f3"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nlisa_flash(int argc, char *argv[])\n{\n  uint32_t address, len;// \u58f0\u660e\u64cd\u4f5c\u5730\u5740\u548c\u957f\u5ea6\n  void *data;\n  if (argc < 4) {\n\u200b    LISA_LOGE(TAG, "usage: %s write/read/erase addr len\\r\\n", argv[0]);\n\u200b    return;\n  }\n  address = atoi(argv[2]);\n  len = atoi(argv[3]);\n  if (len > sizeof(buf)) {\n\u200b    len = sizeof(buf);\n  }\n\n  LISA_LOGE(TAG, "address 0x%x len:%d\\r\\n", address, len);\n\n  if (strcmp(argv[1], "write") == 0) {\n\u200b    for (uint8_t i = 0; i < len; i++) {\n\u200b      buf[i] = i;\n\u200b    }\n\u200b    lisa_flash_write(address, buf, len);// Flash\u6570\u636e\u5199\u5165\u51fd\u6570\u8c03\u7528\n  } else if (strcmp(argv[1], "read") == 0) {\n\u200b    for (uint8_t i = 0; i < len; i++) {\n\u200b      buf[i] = 0;\n\u200b    }\n\u200b    lisa_flash_read(address, buf, len);// Flash\u6570\u636e\u8bfb\u53d6\u51fd\u6570\u8c03\u7528\n\u200b    for (uint8_t i = 0; i < len; i++) {\n\u200b      LISA_LOGE(TAG, "rec:0x%x\\r\\n", buf[i]);\n\u200b    }\n  } else if (strcmp(argv[1], "erase") == 0) {\n\u200b    lisa_flash_erase(address, 4096);// Flash\u6570\u636e\u64e6\u9664\u51fd\u6570\u8c03\u7528\n  }\n}\n')),Object(r.b)("h4",{id:"32-\u65f6\u95f4\u540c\u6b65\u63a5\u53e3\u4f7f\u7528"},"3.2 \u65f6\u95f4\u540c\u6b65\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u65f6\u95f4\u540c\u6b65\u63a5\u53e3\u4f7f\u7528",Object(r.b)("inlineCode",{parentName:"li"},"lisa_rtc_get()")," "),Object(r.b)("li",{parentName:"ul"},"\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u540e\u8bbe\u7f6e\u5f53\u524d\u65f6\u95f4",Object(r.b)("inlineCode",{parentName:"li"},"lisa_rtc_set()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528"),"\uff1a\u5728\u63a5\u5165evs\u65f6\uff0c\u9700\u8981\u8fdb\u884c\u4e91\u7aef\u6388\u6743\uff0c\u53ef\u4ee5\u4f7f\u7528\u6b64\u63a5\u53e3\u540c\u6b65\u7f51\u7edc\u65f6\u95f4\u3002"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),"void\nrtc_test(int argc, char *argv[])\n{\n  lisa_time_t time;\n  uint8_t set = 0;\n\n  if (argc < 2) {\n\u200b    LISA_LOGE(TAG, \"usage: %s set|get\\r\\n\", argv[0]);\n\u200b    return;\n  }\n\n  lisa_rtc_get(&time);// \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\n  if ('s' == argv[1][0]) {\n\u200b    set = 1;\n  } else {\n\u200b    set = 0;\n  }\n\n  if (set) {\n\u200b    time.year = 2013;\n\u200b    time.month = 11;\n\u200b    time.day = 12;\n\u200b    time.hour = 13;\n\u200b    time.minute = 14;\n\u200b    time.second = 15;\n\u200b    lisa_rtc_set(&time);// \u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\n  } else {\n\u200b    lisa_rtc_get(&time);\n  }\n}\n")),Object(r.b)("h4",{id:"33-wifi\u63a5\u53e3\u4f7f\u7528"},"3.3 wifi\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,"\u793a\u4f8b\u5c55\u793a"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"wifi\u521d\u59cb\u5316",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_init()")),Object(r.b)("li",{parentName:"ul"},"\u8fde\u63a5\u6307\u5b9a\u7684ssid\u7f51\u7edc",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_connect()")),Object(r.b)("li",{parentName:"ul"},"\u65ad\u5f00\u7f51\u7edc",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_disconnect()")),Object(r.b)("li",{parentName:"ul"},"\u5f00\u542f\u626b\u63cf\u70ed\u70b9",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_start_scan()")),Object(r.b)("li",{parentName:"ul"},"\u7f51\u7edc\u72b6\u6001\u67e5\u8be2",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_is_connected()")),Object(r.b)("li",{parentName:"ul"},"\u5f00\u542f\u70ed\u70b9",Object(r.b)("inlineCode",{parentName:"li"},"lisa_wifi_start_ap()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u5e94\u7528\uff1a"),"\u5728\u6a21\u7ec4\u914d\u7f51\u65f6\uff0c\u9700\u8981\u7528\u5230\u8fd9\u4e9b\u63a5\u53e3\u914d\u7f6e\u7f51\u7edc\u3002"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nhal_wifi_demo(int argc, char *argv[])\n{\n  if (argc == 1) {\n\u200b    wifi_usage();\n\u200b    return;\n  }\n\n  if (strcmp(argv[1], "init") == 0) {\n\u200b    lisa_wifi_init();// wifi\u529f\u80fd\u521d\u59cb\u5316\n  } else if (strcmp(argv[1], "connect") == 0) {\n\u200b    lisa_wifi_connect_t test_connect;\n\u200b    test_connect.ssid = argv[2];\n\u200b    test_connect.password = argv[3];\n\u200b    test_connect.on_event = wifi_event_callback_test;\n\u200b    lisa_wifi_connect(&test_connect);// \u8fde\u63a5\u6307\u5b9assidwifi\n  } else if (strcmp(argv[1], "disconnect") == 0) {\n\u200b    lisa_wifi_disconnect();// \u65ad\u5f00\u7f51\u7edc\n  } else if (strcmp(argv[1], "scan") == 0) {\n\u200b    lisa_wifi_start_scan(NULL);// \u626b\u63cf\u9644\u8fd1\u7f51\u7edc\n  } else if (strcmp(argv[1], "ap") == 0) {\n\u200b    lisa_err_t result = LISA_OK;\n\u200b    lisa_wifi_ap_t temp_ap;\n\u200b    memset(temp_ap.ssid, 0, sizeof(temp_ap.ssid));\n\u200b    memset(temp_ap.password, 0, sizeof(temp_ap.password));\n\u200b    memcpy(temp_ap.ssid, argv[2], strlen((char *)argv[2]) + 1);\n\u200b    if (argc == 4) {\n\u200b    } else if (argc == 5) {\n\u200b      memcpy(temp_ap.password, argv[3], strlen((char *)argv[3]) + 1);\n\u200b    }\n\u200b    temp_ap.ch = 11;\n\u200b    result = lisa_wifi_start_ap(&temp_ap); // \u5f00\u542f\u70ed\u70b9\u529f\u80fd\n\n\u200b    if (result != LISA_OK) {\n\u200b      LISA_LOGD(TAG, "wifi start failed! result=%d", result);\n\u200b    }\n\n  } else if (strcmp(argv[1], "status") == 0) {\n\u200b    if (lisa_wifi_is_connected()) { // \u83b7\u53d6wifi\u8fde\u63a5\u72b6\u6001\n\u200b      LISA_LOGD(TAG, "wifi connected!");\n\u200b    } else {\n\u200b      LISA_LOGD(TAG, "wifi disconnected!");\n\u200b    }\n\u200b    return;\n  }\n  return;\n}\n')),Object(r.b)("h3",{id:"os\uff08\u7cfb\u7edf\uff09"},"OS\uff08\u7cfb\u7edf\uff09"),Object(r.b)("h4",{id:"34-\u961f\u5217\u63a5\u53e3\u4f7f\u7528"},"3.4 \u961f\u5217\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u521b\u5efa\u5bf9\u63a5",Object(r.b)("inlineCode",{parentName:"li"},"lisa_queue_create()")),Object(r.b)("li",{parentName:"ul"},"\u7ebf\u7a0b\u5199\u961f\u5217",Object(r.b)("inlineCode",{parentName:"li"},"lisa_queue_push()")),Object(r.b)("li",{parentName:"ul"},"\u8bfb\u53d6\u961f\u5217\u4e2d\u7ebf\u7a0b",Object(r.b)("inlineCode",{parentName:"li"},"lisa_queue_receive()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528\uff1a"),"\u53ef\u7528\u4e8e\u5904\u7406\u591a\u4e2a\u6d88\u606f\u4efb\u52a1\uff0c\u5982\u5904\u7406\u4e91\u7aef\u8fd4\u56de\u7684\u63d0\u793a\u97f3\uff0c\u97f3\u4e50\u7b49\u4fe1\u606f"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'#define TAG "lisa_queue"\n#define LISA_TEST_STACK_SIZE (5 * 1024)\n\nstatic lisa_queue_t *g_lisa_queue;\n\nstatic void\nthread1_entry(void *parameter)\n{\n    char buf[10];\n    uint8_t cnt = 0;\n    int ret = LISA_OK;\n    LISA_LOGI(TAG, "thread1_entry run");\n    while (1) {\n        ret = lisa_queue_receive(g_lisa_queue, &buf, sizeof(buf), LISA_WAIT_FOREVER); //\u5728\u6d88\u606f\u961f\u5217\u4e2d\u5904\u7406\u63a5\u6536\u7684\u6d88\u606f \n        if (ret == LISA_OK) {\n            for (uint8_t i = 0; i < 10; i++) {\n                LISA_LOGE(TAG, "rev: %d", buf[i]);\n            }\n        } else {\n            LISA_LOGE(TAG, "thread1 queue failed =%d", ret);\n        }\n    }\n}\n\nstatic void\nthread2_entry(void *parameter)\n{\n    char buf[10];\n    uint8_t cnt = 0;\n    LISA_LOGE(TAG, "thread2_entry run");\n\n    while (1) {\n        for (uint8_t i = 0; i < 10; i++) {\n            buf[i] = i + cnt;\n        }\n\n        lisa_queue_push(g_lisa_queue, &buf, sizeof(buf), 0); // \u5c06\u6d88\u606f\u7ebf\u7a0b\u5199\u5165\u961f\u5217\n\n        lisa_thread_mdelay(10000);\n        LISA_LOGE(TAG, "thread2_entry run");\n\n        cnt += 1;\n    }\n}\n\nvoid\nlisa_queue(int argc, char *argv[])\n{\n  lisa_err_t ret;\n  g_lisa_queue = lisa_queue_create(1000, "text_qu1", 10); // \u961f\u5217\u521d\u59cb\u5316\n\n  lisa_thread_attr_t lisaAttr1;\n  lisaAttr1.name = "lisaThread1";\n  lisaAttr1.priority = OS_THREAD_PRIO_APP;\n  lisaAttr1.stack_size = LISA_TEST_STACK_SIZE;\n  lisa_thread_t *thread1 = lisa_thread_create(&lisaAttr1, thread1_entry, NULL);\n  if (thread1 != NULL) {\n\u200b    LISA_LOGE(TAG, "thread1_entry create suc!");\n  } else {\n\u200b    LISA_LOGE(TAG, "thread1_entry create err!");\n  }\n\n  lisa_thread_attr_t lisaAttr2;\n  lisaAttr2.name = "lisaThread2";\n  lisaAttr2.priority = OS_THREAD_PRIO_APP;\n  lisaAttr2.stack_size = LISA_TEST_STACK_SIZE;\n  lisa_thread_t *thread2 = lisa_thread_create(&lisaAttr2, thread2_entry, NULL); // \u521b\u5efa\u6d88\u606f\u7ebf\u7a0b\n  if (thread2 != NULL) {\n\u200b    LISA_LOGE(TAG, "thread2_entry create suc!");\n  } else {\n\u200b    LISA_LOGE(TAG, "thread2_entry create err!");\n  }\n}\n')),Object(r.b)("h3",{id:"component\uff08\u7ec4\u4ef6\uff09"},"Component\uff08\u7ec4\u4ef6\uff09"),Object(r.b)("h4",{id:"35-\u64ad\u653e\u5668\u7ec4\u4ef6\u7684\u63a5\u53e3\u4f7f\u7528"},"3.5 \u64ad\u653e\u5668\u7ec4\u4ef6\u7684\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u64ad\u653e\u5668\u521d\u59cb\u5316",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_init()")),Object(r.b)("li",{parentName:"ul"},"\u4f20\u5165\u64ad\u653e\u97f3\u9891",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_prepare_url()")),Object(r.b)("li",{parentName:"ul"},"\u5f00\u59cb\u64ad\u653e",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_play()")),Object(r.b)("li",{parentName:"ul"},"\u6682\u505c\u64ad\u653e",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_pause()")),Object(r.b)("li",{parentName:"ul"},"\u7ee7\u7eed\u64ad\u653e",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_resume()")),Object(r.b)("li",{parentName:"ul"},"\u505c\u6b62\u64ad\u653e",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_stop()")),Object(r.b)("li",{parentName:"ul"},"\u8bbe\u7f6e\u64ad\u653e\u97f3\u91cf",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_set_volume()")),Object(r.b)("li",{parentName:"ul"},"\u64ad\u653e\u8fdb\u5ea6\u63a7\u5236",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_seek()")),Object(r.b)("li",{parentName:"ul"},"\u83b7\u53d6\u64ad\u653e\u5668\u72b6\u6001",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_get_state()")),Object(r.b)("li",{parentName:"ul"},"\u83b7\u53d6\u97f3\u9891\u957f\u5ea6",Object(r.b)("inlineCode",{parentName:"li"},"lisa_player_get_duration()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528\uff1a"),"\u53ef\u4ee5\u7528\u4e8e\u7f51\u7edc\u97f3\u9891\u64ad\u653e\uff0ctts\u64ad\u653e\uff0c\u64ad\u653e\u97f3\u91cf\u8bbe\u7f6e\u53ca\u83b7\u53d6\u97f3\u4e50\u64ad\u653e\u8fdb\u5ea6\u7b49\u3002"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nplayer_test(int argc, char *argv[])\n{\n  if (argc == 1) {\n\u200b    usage();\n\u200b    return;\n  }\n\n  uint8_t type = atoi(argv[1]);\n\n  if (strcmp(argv[2], "-s") == 0) {\n\u200b    printf("player%d start in\\n", type);\n\u200b    if (1 == type) {\n\u200b      if (NULL == g_player1) {\n\u200b        lisa_player_params_t para;\n\u200b        memset(&para, 0, sizeof(lisa_player_params_t));\n\u200b        para.type = LISA_PLAYER_TYPE_ONE;\n\u200b        g_player1 = lisa_player_init(&para); // \u64ad\u653e\u5668\u521d\u59cb\u5316\n\u200b        lisa_player_set_callback(g_player1, player1_test_cb);// \u8bbe\u7f6e\u64ad\u653e\u4e8b\u4ef6\u56de\u8c03\n\u200b      }\n\n\u200b      lisa_player_prepare_url(g_player1, argv[3]); // \u51c6\u5907\u64ad\u653e\u7f51\u7edc\u97f3\u9891\u8d44\u6e90\n\n\u200b      lisa_player_play(g_player1); // \u5f00\u59cb\u64ad\u653e\n\n\u200b    } else {\n\u200b      if (NULL == g_player2) {\n\u200b        lisa_player_params_t para;\n\u200b        memset(&para, 0, sizeof(lisa_player_params_t));\n\u200b        para.type = LISA_PLAYER_TYPE_TWO;\n\u200b        g_player2 = lisa_player_init(&para);\n\u200b        lisa_player_set_callback(g_player2, player2_test_cb);\n\u200b      }\n\n\u200b      lisa_player_prepare_url(g_player2, argv[3]);\n\n\u200b      lisa_player_play(g_player2);\n\u200b    }\n\n\u200b    printf("player%d start out\\n", type);\n  } else if (strcmp(argv[2], "-p") == 0) {\n\u200b    printf("player%d pause in\\n", type);\n\u200b    if (1 == type) {\n\u200b      lisa_player_pause(g_player1); // \u6682\u505c\u64ad\u653e\n\u200b    } else {\n\u200b      lisa_player_pause(g_player2);\n\u200b    }\n\u200b    printf("player%d pause out\\n", type);\n  } else if (strcmp(argv[2], "-r") == 0) {\n\u200b    printf("player%d resume in\\n", type);\n\u200b    if (1 == type) {\n\u200b      lisa_player_resume(g_player1); // \u6062\u590d\u64ad\u653e\n\u200b    } else {\n\u200b      lisa_player_resume(g_player2);\n\u200b    }\n\u200b    printf("player%d resume out\\n", type);\n  } else if (strcmp(argv[2], "-t") == 0) {\n\u200b    printf("player%d stop in\\n", type);\n\u200b    if (1 == type) {\n\u200b      lisa_player_stop(g_player1); // \u505c\u6b62\u64ad\u653e\n\u200b    } else {\n\u200b      lisa_player_stop(g_player2);\n\u200b    }\n\u200b    printf("player%d stop out\\n", type);\n  } else if (strcmp(argv[2], "-v") == 0) {\n\u200b    uint8_t volume = atoi(argv[3]);\n\u200b    printf("player%d set volume%d in\\n", type, volume);\n\u200b    if (1 == type) {\n\u200b      lisa_player_set_volume(g_player1, volume); // \u8bbe\u7f6e\u64ad\u653e\u97f3\u91cf\n\u200b    } else {\n\u200b      lisa_player_set_volume(g_player2, volume);\n\u200b    }\n\u200b    printf("player%d set volume%d in\\n", type, volume);\n  } else if (strcmp(argv[2], "-d") == 0) {\n\u200b    dump_status(type);\n  } else if (strcmp(argv[2], "-k") == 0) {\n\u200b    uint32_t seek = atoi(argv[3]);\n\u200b    if (1 == type) {\n\u200b      lisa_player_seek(g_player1, seek); // \u6307\u5b9a\u64ad\u653e\u4f4d\u7f6e\uff0c\u5f00\u59cb\u64ad\u653e\n\u200b    } else {\n\u200b      lisa_player_seek(g_player2, seek);\n\u200b    }\n\u200b    printf("player%d seek %d\\n", type, seek);\n  }\n\n  return;\n}\n')),Object(r.b)("h3",{id:"modules\uff08\u529f\u80fd\uff09"},"Modules\uff08\u529f\u80fd\uff09"),Object(r.b)("h4",{id:"36-led\u706f\u63a7\u5236\u64cd\u4f5c"},"3.6 led\u706f\u63a7\u5236\u64cd\u4f5c"),Object(r.b)("p",null,"\u793a\u4f8b\u4e3b\u8981\u5c55\u793aled\u6253\u5f00\uff0c\u5173\u95ed\uff0c\u547c\u5438\u706f\u5b9e\u73b0\u51fd\u6570\u3002"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"LED\u521d\u59cb\u5316",Object(r.b)("inlineCode",{parentName:"li"},"lisa_led_init()")),Object(r.b)("li",{parentName:"ul"},"LED\u706f\u63a7\u5236",Object(r.b)("inlineCode",{parentName:"li"},"lisa_rgbled_ctr()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528"),"\uff1a\u53ef\u7528\u4e8e\u663e\u793a\u7f51\u7edc\u72b6\u6001\u53d8\u5316\uff0c\u6bd4\u5982\u7f51\u7edc\u672a\u8fde\u63a5\uff0c\u7f51\u7edc\u8fde\u63a5\u4e2d\uff0c\u7f51\u7edc\u5df2\u8fde\u63a5\u3002\u4e5f\u53ef\u4ee5\u7528\u4e8e\u4ea4\u4e92\u72b6\u6001\u663e\u793a\uff0c\u5982\u62fe\u97f3\u4e2d\uff0c\u6b63\u5728\u8bc6\u522b\uff0c\u64ad\u653e\u63d0\u793a\u97f3\u7b49\u3002"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nlisa_led(int argc, char *argv[])\n{\n  lisa_led_mode_e mode;\n  uint32_t rgb;\n  uint16_t cnt = 0;\n\n  if (argc < 2) {\n\u200b    LISA_LOGE(TAG, "usage: %s breath|on|off|flash RGB cnt\\r\\n", argv[0]);\n\u200b    return;\n  }\n\n  lisa_led_init();// led\u521d\u59cb\u5316\n\n  if (strcmp(argv[1], "breath") == 0) {\n\u200b    rgb = atoi(argv[2]);\n\u200b    mode = LED_MODE_BREATH; //\u8bbe\u7f6e\u6a21\u5f0f\uff0c\u547c\u5438\u706f\u6a21\u5f0f\n\u200b    LISA_LOGE(TAG, "breath 0x%x\\r\\n", rgb);\n\n  } else if (strcmp(argv[1], "on") == 0) {\n\u200b    rgb = atoi(argv[2]);\n\u200b    mode = LED_MODE_ON; // \u6253\u5f00\u706f\n\u200b    LISA_LOGE(TAG, "on 0x%x\\r\\n", rgb);\n  } else if (strcmp(argv[1], "off") == 0) {\n\u200b    rgb = atoi(argv[2]);\n\u200b    mode = LED_MODE_OFF; // \u5173\u95ed\u706f\n\u200b    LISA_LOGE(TAG, "off 0x%x\\r\\n", rgb);\n  } else if (strcmp(argv[1], "flash") == 0) {\n\u200b    rgb = atoi(argv[2]);\n\u200b    cnt = atoi(argv[3]);\n\u200b    mode = LED_MODE_FLASHING;\n\u200b    LISA_LOGE(TAG, "flash 0x%x %d\\r\\n", rgb, cnt);\n  }\n\n  switch (rgb) {\n\u200b    case 0:\n\u200b      lisa_rgbled_ctr(mode, 0, cnt); // \u63a7\u5236led\u706f\u5de5\u4f5c\n\u200b      break;\n\u200b    case 1:\n\u200b      lisa_rgbled_ctr(mode, RGB_RED, cnt);\n\u200b      break;\n\u200b    case 2:\n\u200b      lisa_rgbled_ctr(mode, RGB_GREEN, cnt);\n\u200b      break;\n\u200b    case 3:\n\u200b      lisa_rgbled_ctr(mode, RGB_BLUE, cnt);\n\u200b      break;\n\u200b    default:\n\u200b      break;\n  }\n\n  return;\n}\n')),Object(r.b)("h3",{id:"component\uff08\u7ec4\u4ef6\uff09-1"},"Component\uff08\u7ec4\u4ef6\uff09"),Object(r.b)("h4",{id:"37-\u6301\u4e45\u5316\u5de5\u5177"},"3.7 \u6301\u4e45\u5316\u5de5\u5177"),Object(r.b)("p",null,"\u793a\u4f8b\u5c55\u793a\u4e86\u6301\u4e45\u5316\u5de5\u5177\u521d\u59cb\u5316\uff0c\u4fe1\u606f\u7684\u5199\u5165\uff0c\u8bfb\u53d6\uff0c\u548c\u64e6\u9664\u64cd\u4f5c"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_init()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_put_string()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_get_string()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_put_int()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_get_int")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_put_bool()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_get_bool")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_delete()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_perst_clear()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528\uff1a"),"\u4e3b\u8981\u7528\u4e8emac\u5730\u5740\uff0csn\u53f7\uff0cdeviceid\u4fe1\u606f\u5b58\u50a8"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nlisa_perst(int argc, char *argv[])\n{\n  int8_t useok = 0;\n  if (argc < 2) {\n\u200b    LISA_LOGE(TAG, "usage: %s set|get|del|clr|info string|int|bool key value \\r\\n", argv[0]);\n\u200b    return;\n  }\n\n  if (strcmp(argv[1], "set") == 0) {\n\u200b    if (strcmp(argv[2], "string") == 0) {\n\u200b      char *key = NULL;\n\u200b      char *value = NULL;\n\u200b      key = argv[3];\n\u200b      value = argv[4];\n\u200b      LISA_LOGE(TAG, "set string %s %s \\r\\n", key, value);\n\n\u200b      lisa_perst_init();// \u521d\u59cb\u5316\n\u200b      lisa_perst_put_string(key, value);// \u5199\u5165\u5b57\u7b26\u4e32\u952e\u503c\u5bf9\n\n\u200b      useok = 1;\n\n\u200b    } else if (strcmp(argv[2], "int") == 0) {\n\u200b      char *key = NULL;\n\u200b      int value;\n\u200b      key = argv[3];\n\u200b      value = atoi(argv[4]);\n\u200b      LISA_LOGE(TAG, "set int %s %d \\r\\n", key, value);\n\n\u200b      lisa_perst_init();\n\u200b      lisa_perst_put_int(key, value); // \u5199\u5165\u6574\u578b\u6570\u636e\u952e\u503c\u5bf9\n\n\u200b      useok = 1;\n\u200b    } else if (strcmp(argv[2], "bool") == 0) {\n\u200b      char *key = NULL;\n\u200b      bool value;\n\u200b      key = argv[3];\n\u200b      value = atoi(argv[4]);\n\u200b      LISA_LOGE(TAG, "set bool %s %d \\r\\n", key, value);\n\n\u200b      lisa_perst_init();\n\u200b      lisa_perst_put_bool(key, value);// \u5199\u5165bool\u503c\u952e\u503c\u5bf9\n\n\u200b      useok = 1;\n\u200b    }\n  } else if (strcmp(argv[1], "get") == 0) {\n\u200b    if (strcmp(argv[2], "string") == 0) {\n\u200b      char *key = NULL;\n\u200b      char *value = NULL;\n\u200b      key = argv[3];\n\n\u200b      lisa_perst_init();\n\u200b      lisa_perst_get_string(key, &value); // \u6839\u636e\u5bf9\u5e94\u7684\u952e\uff0c\u83b7\u53d6\u6570\u636e\n\n\u200b      LISA_LOGE(TAG, "get string %s %s \\r\\n", key, value);\n\n\u200b      useok = 1;\n\n\u200b    } else if (strcmp(argv[2], "int") == 0) {\n\u200b      char *key = NULL;\n\u200b      int value;\n\u200b      key = argv[3];\n\n\u200b      lisa_perst_init();\n\u200b      lisa_perst_get_int(key, &value);\n\n\u200b      LISA_LOGE(TAG, "get int %s %d \\r\\n", key, value);\n\n\u200b      useok = 1;\n\u200b    } else if (strcmp(argv[2], "bool") == 0) {\n\u200b      char *key = NULL;\n\u200b      bool value;\n\u200b      key = argv[3];\n\n\u200b      lisa_perst_init();\n\u200b      lisa_perst_get_bool(key, &value);\n\n\u200b      LISA_LOGE(TAG, "get bool %s %d \\r\\n", key, value);\n\n\u200b      useok = 1;\n\u200b    }\n  } else if (strcmp(argv[1], "del") == 0) {\n\u200b    char *key = NULL;\n\u200b    char *value = NULL;\n\u200b    key = argv[3];\n\u200b    value = argv[4];\n\n\u200b    lisa_perst_init();\n\u200b    lisa_perst_delete(key);// \u6839\u636ekey\uff0c\u5220\u9664\u5bf9\u5e94\u7684\u4fe1\u606f\n\n\u200b    LISA_LOGE(TAG, "del string %s\\r\\n", key);\n\n\u200b    useok = 1;\n  } else if (strcmp(argv[1], "clr") == 0) {\n\u200b    lisa_perst_init();\n\n\u200b    lisa_perst_clear();\n\n  } else if (strcmp(argv[1], "info") == 0) {\n\u200b    lisa_perst_init();\n\u200b    ef_print_env();\n  }\n\n  if (!useok) {\n\u200b    LISA_LOGE(TAG, "usage: %s set|get|del string|int|bool key value \\r\\n", argv[0]);\n  }\n}\n')),Object(r.b)("h4",{id:"38-\u7535\u6e90\u7ba1\u7406\u63a5\u53e3\u4f7f\u7528"},"3.8 \u7535\u6e90\u7ba1\u7406\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,"\u793a\u4f8b\u4e3b\u8981\u662f\u5c55\u793a\u91cd\u542f\u63a5\u53e3\u4f7f\u7528"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u4e3b\u8981\u63a5\u53e3\uff1a")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"lisa_reboot()"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\u5b9e\u9645\u4f7f\u7528\uff1a"),"\u53ef\u7528\u4e8e\u6a21\u7ec4\u91cd\u542f\uff0c\u6bd4\u5982\u5f02\u5e38\u590d\u4f4d\uff0c\u914d\u7f6edeviceid\u540e\u91cd\u542f"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-c"}),'void\nlisa_power(int argc, char *argv[])\n{\n  if (argc < 2) {\n\u200b    LISA_LOGE(TAG, "usage: %s reboot \\r\\n", argv[0]);\n\u200b    return;\n  }\n\n  if (strcmp(argv[1], "reboot") == 0) {\n\u200b    LISA_LOGE(TAG, "lisa_power reboot\\r\\n");\n\u200b    lisa_reboot(); // \u91cd\u542f\u64cd\u4f5c\n  }\n\n  return;\n}\n')),Object(r.b)("h2",{id:"lisa-api\u63a5\u53e3\u53c2\u8003\u6587\u6863"},"LISA API\u63a5\u53e3\u53c2\u8003\u6587\u6863"),Object(r.b)("p",null,"\u53c2\u8003",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/lisa_api"}),"LISA API \u63a5\u53e3\u624b\u518c")))}_.isMDXComponent=!0},167:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return d}));var a=t(0),i=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=i.a.createContext({}),_=function(e){var n=i.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},b=function(e){var n=_(e.components);return i.a.createElement(p.Provider,{value:n},e.children)},o={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},u=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),b=_(t),u=a,d=b["".concat(l,".").concat(u)]||b[u]||o[u]||r;return t?i.a.createElement(d,s(s({ref:n},p),{},{components:t})):i.a.createElement(d,s({ref:n},p))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=u;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var p=2;p<r;p++)l[p]=t[p];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},314:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/architecture-ab13f39e31590e00d15033181b00e4c5.png"},315:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/lisa_api-1221a2e7b71a14580f9c09ccbbcd12df.png"}}]);